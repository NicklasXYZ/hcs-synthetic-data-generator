{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":"<p>The code repository hcs-synthetic-data-generator contains code for running a discrete-event simulation modeling patient-practitioner interactions in a healthcare system. Details relating to the implemented simulation can be found on here, while a resulting benchmarking data set can be found here. </p>"},{"location":"sim/","title":"Simulation Details","text":"<p>The simulation generates synthetic interrelated FHIR R5 resources, including:</p> <ul> <li>Practitioners</li> <li>Patients</li> <li>Appointments (scheduled, cancelled, no-shows)</li> <li>Encounters (actual face-to-face visits between a patient and practitioner)</li> <li>Observations (made by practitioners)</li> <li>AuditEvents, particularly Break The Glass (BTG) emergency access events</li> </ul>"},{"location":"sim/#implementation-details","title":"Implementation Details","text":"<p>The discrete-event simulation is implemented in SimPy. An SQLite database is used to log events and manage practitioner and patient data. The data export script (<code>data_export.py</code>), located in the code repository, allows exporting the data saved in the SQLite database as serialized FHIR resources (JSON) or in a custom simplified format (JSON).</p>"},{"location":"sim/#simulation-objective","title":"Simulation Objective","text":"<p>The implemented discrete-event simulation aims to produce (as good as possible) realistic event sequences that can be classified as either normal or anomalous patterns of healthcare system usage. It aligns with the confidentiality scenario described by McGlade and Scott-Hayward (2019)<sup>1</sup>, where various event sequences are generated to mimic normal and anomalous usage patterns.</p> <p>In this context, 'access' events by clinician users against patients can be defined, within a 24-hour period, as anomalous when a user accesses a patient record without a legitimate relationship to the patient and without a 'break-glass' event. A relationship is defined by the presence or absence of appointments, observations, or encounters linking the patient and the clinician user. A 'break-glass' event is when a clinician legitimately accesses a patient record in an emergency situation.</p>"},{"location":"sim/#classification-table","title":"Classification Table","text":"<p>When event sequences are aggregated on a 24-hour basis, they can be classified according to the following classification table, as specified by McGlade and Scott-Hayward (2019)<sup>1</sup>:</p> ID Appointments Observations Encounters Break-Glass Class Description 1 \u274c \u274c \u274c \u274c Anomaly No relationship between clinician and patient, no emergency access. 2 \u274c \u274c \u274c \u2705 Normal Emergency 'break-glass' event occurred. 3 \u274c \u274c \u2705 \u274c Anomaly Clinician met patient, no future appointment, no emergency access. 4 \u274c \u274c \u2705 \u2705 Normal Emergency access to patient records during an encounter. 5 \u274c \u2705 \u274c \u274c Anomaly Clinician observed patient, no future appointment, no emergency access. 6 \u274c \u2705 \u274c \u2705 Normal Emergency 'break-glass' event occurred during an observation. 7 \u274c \u2705 \u2705 \u274c Anomaly Clinician met and observed patient, no future appointment, no emergency access. 8 \u274c \u2705 \u2705 \u2705 Normal Emergency access to patient records during an encounter and observation. 9 \u2705 \u274c \u274c \u274c Normal Future appointment exists, no emergency access. 10 \u2705 \u274c \u274c \u2705 Anomaly Future appointment exists, but emergency 'break-glass' event occurred. 11 \u2705 \u274c \u2705 \u274c Normal Clinician met patient, future appointments exist, no emergency access. 12 \u2705 \u274c \u2705 \u2705 Normal Emergency access to patient records during an encounter, future appointments exist. 13 \u2705 \u2705 \u274c \u274c Normal Clinician observed patient, future appointments exist, no emergency access. 14 \u2705 \u2705 \u274c \u2705 Normal Emergency access to patient records during an observation, future appointments exist. 15 \u2705 \u2705 \u2705 \u274c Normal Normal hospital visit, no emergency access. 16 \u2705 \u2705 \u2705 \u2705 Normal Emergency access to patient records during an encounter and observation, future appointments exist."},{"location":"sim/#simulation-assumptions","title":"Simulation Assumptions","text":"<p>The discrete-event simulation is based on several key assumptions to ensure it produces realistic event sequences. The table below summarizes these assumptions:</p> Assumption Description Discrete Time Units The simulation operates in discrete time units (minutes). Practitioner Availability Practitioners have predefined work schedules (full-time, evening-shift, split-shift, part-time, weekend-only, and rotating 8-hour shifts) to ensure the simulation mimics real-world constraints and availability of healthcare practitioners. Event Probabilities Events occur with predefined probabilities, and the time between events occurs based on predefined probability distributions. Patient Cooldown Patients have a cooldown period between appointments to simulate realistic scheduling and prevent unrealistic frequent appointments. Dynamic Patient Population The simulation dynamically adjusts the patient population based on discharge and new patient addition probabilities. Sequence Generation of Events The simulation can generate singleton events or sequences of appointments, encounters, and observations: - Appointments: Can be scheduled, cancelled, or result in no-shows. - Encounters: Occur as actual visits and can follow appointments. - Observations: Made by practitioners and can occur during encounters. Random BTG/Normal Access Events The simulation can generate random Break The Glass (BTG) or normal access events at any time: - BTG Access Events: Occur with a predefined probability and represent emergency access to patient records. - Normal Access Events: Occur as part of regular scheduled interactions."},{"location":"sim/#event-transition-diagram","title":"Event Transition Diagram","text":"<p>The following sequence diagram illustrates the (high-level) event generation process in the discrete-event simulation. It shows how different types of events (appointments, encounters, observations, and Break The Glass (BTG) events) are generated, along with their respective probabilities. The diagram also highlights the concurrent generation of BTG and normal access events, which can occur independently of the main event sequences.</p> <pre><code>sequenceDiagram\n    participant MainProcess\n    participant Appointment\n    participant Encounter\n    participant Observation\n    participant BTGAccessEvent\n    participant NormalAccessEvent\n\n    MainProcess-&gt;&gt;MainProcess: Sample Patient-Practitioner Pair\n\n    loop Event Sequence Generation\n        alt Sequence Type 1\n            MainProcess-&gt;&gt;Appointment: Generate Appointment (33.33% chance)\n            alt Sequence Type 1.1\n                Appointment-&gt;&gt;Observation: Generate Observation (33.33% chance)\n            end\n\n            alt Sequence Type 1.2\n                Appointment-&gt;&gt;Encounter: Generate Encounter (66.66% chance)\n                Encounter-&gt;&gt;Observation: Generate Observation (33.33% chance)\n            end\n        end\n\n        alt Sequence Type 2\n            MainProcess-&gt;&gt;Encounter: Generate Encounter (33.33% chance)\n            Encounter-&gt;&gt;Observation: Generate Observation (33.33% chance)\n        end\n\n        alt Sequence Type 3\n            MainProcess-&gt;&gt;Observation: Generate Observation (33.33% chance)\n        end\n\n        Observation-&gt;&gt;BTGAccessEvent: Generate BTG Event (5% chance)\n\n    end\n\n    loop Concurrent BTG/Normal Access Event Generation\n        alt BTG Access Event\n            MainProcess-&gt;&gt;BTGAccessEvent: Generate BTG Access Event (5% chance)\n        end\n\n        alt Normal Access Event\n            MainProcess-&gt;&gt;NormalAccessEvent: Generate Normal Access Event (5% chance)\n        end\n    end</code></pre> <ol> <li> <p>McGlade, D., &amp; Scott-Hayward, S. (2019). ML-based cyber incident detection for Electronic Medical Record (EMR) systems. Smart Health, 12, 3\u201323. doi:10.1016/j.smhl.2018.05.001 \u21a9\u21a9</p> </li> </ol>"},{"location":"vis/","title":"Benchmark Dataset","text":"<p>A complete dataset resulting from running the implemented discrete-event simulation can be found here. It has been obtained by running the simulation code within the code repository. This dataset includes synthetically generated healthcare event sequences modeled after HL7 FHIR R5 resources, including appointments (scheduled, cancelled, or no-show), encounters (actual visits), observations (clinical measurements), and Break The Glass (BTG) events (emergency access).</p>"},{"location":"vis/#visualizations","title":"Visualizations","text":"<p>To give an overview of the full dataset, a histogram is shown below, illustrating the distribution of aggregated event sequences over 12-hour intervals, categorized according to the classification table available here. Additionally, a timeline visualization presents a representative sample of the dataset, featuring a subset of practitioners and their associated patients along with all related events. In the timeline visualization, each horizontal (grayscale) band corresponds to a patient's event history, with color-coded bars indicating different event types and their durations.</p>"},{"location":"vis/#histogram","title":"Histogram","text":""},{"location":"vis/#timeline","title":"Timeline","text":""}]}